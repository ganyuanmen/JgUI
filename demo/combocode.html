<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
        <title></title>
    <script src="../js/jquery-2.1.3.min.js"></script>
    <script src="../js/jgui-1.0.js"></script>
    <link href="../css/jgui.css" rel="stylesheet" />
    <link href="../css/icon.css" rel="stylesheet" />
    <script src="../js/demo.js"></script>
</head>
<body style="padding:12px;">
    <fieldset>
        <legend>combo基本功能</legend>
        <div>
            <div class="gtoolbar">
                <a class="gbutton" data-options="{click:set1}">设第一个值</a>
                <a class="gbutton" data-options="{click:set2}">设id为 2</a>
                <a class="gbutton" data-options="{click:set3}">重设数据源</a>
                <a class="gbutton" data-options="{click:set4}">获value</a>
                <a class="gbutton" data-options="{click:set5}">获record</a>
            </div>
            <br />
            <div id="gcombo1" class="gcombo" data-options="{data:[{id:1,text:'1111111'},{id:2,text:'2222222222'},{id:3,text:'333333333111111'},{id:4,text:'hhhhhhhhhhhhhh在在要要2222gggggggggggggggggggg222222'}],onChange:showt}"></div>
        </div>
        <br />
        <div>result:</div>
        <textarea cols="80"></textarea>
        </fieldset>
        <br />
        <fieldset>
            <legend>编辑及按实时输入内容过滤</legend>
            <div class="gtoolbar">
                <a class="gbutton" data-options="{click:set44}">获value</a>
                <a class="gbutton" data-options="{click:set55}">获record</a>
            </div><br />
            <div id="gcombo2" class="gcombo" data-options="{edit:true,isFilter:true}"></div>
            <br />
            <br />
            <div>result:</div>
            <textarea cols="80"></textarea>
            <br />
        </fieldset>
        <br />
<fieldset>
            <legend>combo自定义验证功能</legend>
            <div>
                <div class="gtoolbar">
                    <a class="gbutton" data-options="{click:check1}">验证</a>
                </div>
                <br />
                <div id="gcombo3" class="gcombo" data-options="{valid:comvalid, data:[{id:1,text:'不能选择'},{id:2,text:'2222222222'},{id:3,text:'333333333111111'},{id:4,text:'hhhhhhhhhhhhhh在在'}]}"></div>
            </div>
            <br />
            <div>result:</div>
            <textarea cols="80"></textarea>
            <br />
        </fieldset>
<script>
    var ihtml = document.body.innerHTML;
    var jcombo = jgui.get('gcombo1');
    function showt(e) {
        $('textarea:first').val('你选择了:' + e.text);
    }
    function set1() {
        jcombo.setIndex(0);
    }
    function set2() {
        jcombo.setValue(2);
    }

    function set3() {
        jcombo.setUrl("../data/combo.txt");
    }

    function set4() {
        $('textarea:first').val('getValue:' + jcombo.getValue());
    }

    function set5() {
        var a = jcombo.getRecord();
        if (a)
            $('textarea:first').val('getRecord:' + jgui.join(jcombo.getRecord()));

    }
    function set44() {
        $('textarea:last').val('getValue:' + gcombo2.getValue());
    }

    function set55() {
        var a = gcombo2.getRecord();
        if (a)
            $('textarea:last').val('getRecord:' + jgui.join(gcombo2.getRecord()));

    }
    function comvalid(v) {
        if (v == '1') {
            this.validMessage = '不能选择第一个';
            return false;
        } else
            return true;
    }

    function check1() {
        $('textarea').eq(1).val(gcombo3.getText() + ":" + (gcombo3.valid() ? "验证通过！" : '验证失败！'));
    }
    var data = [
{ "id": "A", "text": "AAAAAAAAAAAAAAAAAAA" },
{ "id": "B", "text": "BBBBBBBBBBBBBBBBBBB" },
{ "id": "C", "text": "CCCCCCCCCCCCCCCCCCCC" },
{ "id": "D", "text": "DDDDDDDDDDDDDDDDDDDD" },
{ "id": "E", "text": "EEEAAAAAAAAAAAAAAAAAAA" },
{ "id": "F", "text": "FFFBBBBBBBBBBBBBBBBBBB" },
{ "id": "G", "text": "HHHCCCCCCCCCCCCCCCCCCCC" },
{ "id": "I", "text": "IIIIDDDDDDDDDDDDDDDDDDDD" },
{ "id": "J", "text": "JJJAAAAAAAAAAAAAAAAAAA" },
{ "id": "K", "text": "KKKBBBBBBBBBBBBBBBBBBB" },
{ "id": "L", "text": "LLLCCCCCCCCCCCCCCCCCCCC" },
{ "id": "M", "text": "MMMDDDDDDDDDDDDDDDDDDDD" },
{ "id": "N", "text": "NNNAAAAAAAAAAAAAAAAAAA" },
{ "id": "O", "text": "OOOOBBBBBBBBBBBBBBBBBBB" },
{ "id": "P", "text": "PPPCCCCCCCCCCCCCCCCCCCC" },
{ "id": "Q", "text": "QQQDDDDDDDDDDDDDDDDDDDD" },
{ "id": "R", "text": "RRRAAAAAAAAAAAAAAAAAAA" },
{ "id": "S", "text": "SSSBBBBBBBBBBBBBBBBBBB" },
{ "id": "T", "text": "TTTTCCCCCCCCCCCCCCCCCCCC" },
{ "id": "U", "text": "UUUUDDDDDDDDDDDDDDDDDDDD" },
{ "id": "V", "text": "VVVAAAAAAAAAAAAAAAAAAA" },
{ "id": "W", "text": "WWWBBBBBBBBBBBBBBBBBBB" },
{ "id": "X", "text": "XXXCCCCCCCCCCCCCCCCCCCC" },
{ "id": "Y", "text": "YYYDDDDDDDDDDDDDDDDDDDD" },
{ "id": "Z", "text": "ZZZAAAAAAAAAAAAAAAAAAA" },
{ "id": "11", "text": "1111BBBBBBBBBBBBBBBBBBB" },
{ "id": "22", "text": "22222CCCCCCCCCCCCCCCCCCCC" },
{ "id": "33", "text": "3333DDDDDDDDDDDDDDDDDDDD" },
{ "id": "44", "text": "4444AAAAAAAAAAAAAAAAAAA" },
{ "id": "55", "text": "5555BBBBBBBBBBBBBBBBBBB" },
{ "id": "66", "text": "666CCCCCCCCCCCCCCCCCCCC" },
{ "id": "77", "text": "777DDDDDDDDDDDDDDDDDDDD" }
    ];
    //如果发布在web服务器上 直接设url即可 ,url:'../data/combo.txt'
    window.onload = function () { gcombo2.setData(data);};
    
</script>
</body>
</html>

