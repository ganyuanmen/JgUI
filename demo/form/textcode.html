<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
        <title></title>
    <script src="../../js/jquery-2.1.3.min.js"></script>
    <script src="../../js/jgui-1.0.min.js"></script>
    <link href="../../css/jgui.css" rel="stylesheet" />
    <link href="../../css/icon.css" rel="stylesheet" />
    <script src="../../js/demo.js"></script>
</head>
<body style="padding:2px;">
    <div class="gform" id="form1">
    <div style="margin:100px; border:1px solid #808080;">
        <table>
            <tr>
                <td><input name="t1"  class="gtext" data-options="{value:34}"/></td>
                <td><div class="gtoolbar"><a class="gbutton" data-options="{click:set1}">设值</a><a class="gbutton" data-options="{click:get1}">获值</a></div></td>
                <td></td>
            </tr>
            <tr>
                <td><input name="t2" class="gtext" required="required" data-options="{value:'必须填值'}" /></td>
                <td>必须填值</td>
                <td style="color:red;"> required="required"</td>
            </tr>
            <tr>
                <td><input name="t3" class="gtext"  data-options="{value:123,typeValid:'int'}" /></td>
                <td>必须是整数</td>
                <td style="color:red;">typeValid:'int'</td>
            </tr>
            <tr>
                <td><input name="t4" class="gtext" data-options="{value:12.3,typeValid:'number'}" /></td>
                <td>必须是数值</td>
                <td style="color:red;">typeValid:'number'</td>
            </tr>
            <tr>
                <td><input name="t5" class="gtext" data-options="{value:123,valid:valid2}" /></td>
                <td>自定义验证函数(100-200区间)</td>
                <td style="color:red;">valid:自定义函数</td>
            </tr>
        </table>

            <div class="gtoolbar" >
        <a class="gbutton" data-options="{click:mit,icon:'ok'}">验证</a>
                </div>
        <div>result</div>
        <textarea cols="80"></textarea>

            </div>
        </div>
<script>
    var ihtml = document.body.innerHTML;
    var t1 = jgui.get('t1'), t2 = jgui.get('t2'), f1 = jgui.get('form1');
    function set1() {
        var r = jgui.prompt('输值', function (v) {
            t1.setValue(v);
        })
    }
    function get1() {
        jgui.alert(t1.getValue());
    }
    function valid1() {

        var _0 = t1.valid(), _1 = t2.valid();
    }

    function mit() {
        $('textarea').eq(0).val(f1.valid() ? '数据通过检验\r\n' + jgui.join(f1.getData()) : '数据未通过检验！');
    }
    function valid2(v) {
        if (isNaN(v) || v <= 100 || v >= 200) {
            this.validMessage = "数字必须大于100小于200";
            return false;
        } else return true;
    }
    function deltip() {
        t1.removeTip();
    }
</script>

</body>
</html>
