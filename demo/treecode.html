<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
        <title></title>
    <script src="../js/jquery-2.1.3.min.js"></script>
    <script src="../js/jgui-1.0.min.js"></script>
    <link href="../css/jgui.css" rel="stylesheet" />
    <link href="../css/icon.css" rel="stylesheet" />
    <script src="../js/demo.js"></script>
</head>
<body style="padding:12px;" >
    <fieldset style="background-color:azure;">
        <legend>tree基本功能</legend>
    
    <div class="toolbar">
        <a class="gbutton" data-options="{click:expand,icon:'add'}">expand</a>
        <a class="gbutton" data-options="{click:collapse,icon:'add'}">collapse</a>
        <a class="gbutton" data-options="{click:lselect,icon:'add'}">getSelect</a>
        <a class="gbutton" data-options="{click:each,icon:'add'}">geach</a>
    </div>
        
        <div style="width:300px; height:300px; float:left; " >
            <ul id="mytree" class="gtree" data-options='{click:showmenu,fit:true, expandOnClickItem:false}'></ul>
        </div>
        <div style="float:left;margin-left:20px; ">
            <div>result:</div>
            <textarea cols="80" rows="15"></textarea>
        </div>
        </fieldset>
    <fieldset style="background-color:azure;">
        <legend>tree(checkbox)</legend>

        <div class="toolbar">
            <a class="gbutton" data-options="{click:lselect1,icon:'add'}">getCheckSelect(true)</a>
            <a class="gbutton" data-options="{click:lselect2,icon:'add'}">getCheckSelect(false)</a>
        </div>

        <div style="width:200px; height:300px; float:left; ">
            <ul id="mytree1" class="gtree" data-options='{click:showmenu1,fit:true, expandOnClickItem:false,checkboxNode:true}'></ul>
        </div>
        <div style="float:left;margin-left:20px; ">
            <div>result:</div>
            <textarea cols="80" rows="15"></textarea>
        </div>
    </fieldset>
    
<script>
    var ihtml = document.body.innerHTML;
    var tree = jgui.get('mytree');
    var data = [
{ id: "_1", pid: "-1", text: "所有公司", expand: true },
{ id: "0", pid: "_1", text: "A公司" },
{ id: "0A", pid: "0", text: "A公司行政部" },
{ id: "0AA", pid: "0A", text: "部长" },
{ id: "0AB", pid: "0A", text: "副部长" },
{ id: "0AC", pid: "0A", text: "业务员" },
{ id: "0B", pid: "0", text: "A公司企业管理部" },
{ id: "0BA", pid: "0B", text: "考核员" },
{ id: "0BB", pid: "0B", text: "办事员" },
{ id: "0C", pid: "0", text: "A公司采购部" },
{ id: "0CA", pid: "0C", text: "采购经理" },
{ id: "0CB", pid: "0C", text: "采购员" },
{ id: "0D", pid: "0", text: "A公司财务部" },
{ id: "0DA", pid: "0D", text: "会计" },
{ id: "0DB", pid: "0D", text: "出纳员" },
{ id: "1", pid: "_1", text: "B公司" },
{ id: "1A", pid: "1", text: "B公司生产科" },
{ id: "1AA", pid: "1A", text: "科长" },
{ id: "1AB", pid: "1A", text: "副科长" },
{ id: "1AC", pid: "1A", text: "调度员" },
{ id: "1AD", pid: "1A", text: "调试员" },
{ id: "1B", pid: "1", text: "B公司企业管理部" },
{ id: "1BA", pid: "1B", text: "考核员" },
{ id: "1BB", pid: "1B", text: "办事员" }
    ];
    //如果发布在web服务器上 直接设url即可 url: "../data/tree.txt"
    window.onload = function () { mytree.setData(data); mytree1.setData(data); };
    function showmenu(e) {
        $('textarea:first').val("单击:" + jgui.join(e));
    };
    function showmenu1(e) {
        $('textarea:last').val("选择:" + jgui.join(e));
    };
    function expand() {
        tree.expand('1');
    };
    function collapse() {
        tree.collapse('1');
    }
    function lselect() {
        $('textarea:first').val("getSelect:" + jgui.join(tree.getSelect()));
    }
    function lselect1() {
        $('textarea:last').val("getCheckSelect(true):" + jgui.join(mytree1.getCheckSelect(true).join(',')));
    }
    function lselect2() {
        $('textarea:last').val("getCheckSelect(false):" + jgui.join(mytree1.getCheckSelect(false).join(',')));
    }
    function each() {
        var r = "";
        tree.geach(function (obj) {
            r += jgui.join(obj) + '\r\n';
            return true;
        });
        $('textarea:first').val(r);
    }
</script>

</body>
</html>