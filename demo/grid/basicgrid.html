<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title></title>
     <script src="../../js/jquery-2.1.3.min.js"></script>
    <script src="../../js/jgui-1.0.min.js"></script>
    <link href="../../css/jgui.css" rel="stylesheet" />
    <link href="../../css/icon.css" rel="stylesheet" />
    <script src="../../js/demo.js"></script>
</head>
<body >
 <div style="padding:20px;">
     <h2>基本表格</h2>
     <h3> 表格的大部份功能需要有后台支持</h3>
 </div>
<table id="mygrid" class="ggrid" data-options="{sumAble:false,onRowDraw:setRow,pager:true,fit:false,width:600,height:500,toolBar:'#mybar',border:[1,1,1,1]}">
    <thead>
    <tr>
        <td data-options="{width:50,type:'indexCol',sortable:false}" ></td>
        <td data-options="{field:'name',width: 80}" >姓名</td>
        <td data-options="{field:'sex',width: 50,render:set1,align:'center'}" >性别</td>
        <td data-options="{field:'department',width:120,render:set2}" >公司</td>
        <td data-options="{field:'salary',width: 90,format:'2,',align:'right'}">基本工资</td>
        <td data-options="{field:'address',width: 90}">地址</td>
        <td data-options="{field:'tel',width:110}">联系电话</td>
        <td data-options="{field:'accounts',width:140}">银行帐号</td>
        
    </tr>
    </thead>
</table>
    <div id="mybar" class="gtoolbar" data-options="{border:[0,0,1,0]}" >
          <a href="#" class="gbutton" data-options="{icon:'find2',click:search}">查找</a>
          <a href="#" class="gbutton" data-options="{icon:'excel',click:toexcel}">导出</a>             
     </div>
<script>
    //如果要web中运行，设url:'../../data/grid.txt'即可

    var ihtml = document.body.innerHTML;
    var grid = jgui.get('mygrid');
    $(function () {
        grid.setData(
        [
    {id: 1,date:'2015-10-11',department:'0AA',address:'地址01',tel:'0771-11111',accounts:'45443346767845244342',name:'张  三',salary:1276,sex: true},
    {id: 2,date:'2015-10-11',department:'0AB',address:'地址02',tel:'0771-22222',accounts:'45443346767845244342',name:'李  四',salary:1276,sex:false},
    {id: 3,date:'2015-10-11',department:'1AA',address:'地址03',tel:'0771-33333',accounts:'45443346767845244342',name:'钱  五',salary:1276,sex: true},
    {id: 4,date:'2015-10-11',department:'0AB',address:'地址04',tel:'0771-44444',accounts:'45443346767845244342',name:'王  六',salary:1276,sex:false},
    {id: 5,date:'2015-10-11',department:'0AC',address:'地址05',tel:'0771-66666',accounts:'45443346767845244342',name:'宁  七',salary:1276,sex: true},
    {id: 6,date:'2015-10-11',department:'1AA',address:'地址06',tel:'0771-77777',accounts:'45443346767845244342',name:'宋  八',salary: 996,sex: true},
    {id: 7,date:'2015-10-11',department:'0AA',address:'地址07',tel:'0771-88888',accounts:'45443346767845244342',name:'陈  九',salary:1276,sex:false},
    {id: 8,date:'2015-10-11',department:'0AA',address:'地址08',tel:'0771-99999',accounts:'45443346767845244342',name:'韦  十',salary:1276,sex: true},
    {id: 9,date:'2015-10-11',department:'1AA',address:'地址09',tel:'0771-00000',accounts:'45443346767845244342',name:'覃十一',salary:1276,sex: true},
    {id:10,date:'2015-10-11',department:'1AA',address:'地址10',tel:'0771-aaaaa',accounts:'45443346767845244342',name:'张十二',salary:1276,sex:false},
    {id:11,date:'2015-10-11',department:'1AA',address:'地址11',tel:'0771-bbbbb',accounts:'45443346767845244342',name:'李十三',salary:1276,sex: true},
    {id:12,date:'2015-10-11',department:'0AA',address:'地址12',tel:'0771-ccccc',accounts:'45443346767845244342',name:'钱十四',salary: 984,sex:false},
    {id:13,date:'2015-10-11',department:'0AA',address:'地址13',tel:'0771-ddddd',accounts:'45443346767845244342',name:'王十五',salary:1276,sex:false},
    {id:14,date:'2015-10-11',department:'0AA',address:'地址14',tel:'0771-zzzzz',accounts:'45443346767845244342',name:'宁十六',salary:1276,sex: true},
    {id:15,date:'2015-10-11',department:'0AA',address:'地址15',tel:'0771-fffff',accounts:'45443346767845244342',name:'宋十八',salary:1276,sex:false},
    {id:16,date:'2015-10-11',department:'1AA',address:'地址16',tel:'0771-ggggg',accounts:'45443346767845244342',name:'陈十九',salary:1276,sex: true},
    {id:17,date:'2015-10-11',department:'1BA',address:'地址17',tel:'0771-hhhhh',accounts:'45443346767845244342',name:'韦二十',salary:1276,sex: true},
    {id:18,date:'2015-10-11',department:'1AA',address:'地址18',tel:'0771-iiiii',accounts:'45443346767845244342',name:'钟二下',salary: 912,sex: true},
    {id:19,date:'2015-10-11',department:'1AC',address:'地址19',tel:'0771-jjjjj',accounts:'45443346767845244342',name:'张一三',salary:1276,sex:false},
    {id:20,date:'2015-10-11',department:'1AA',address:'地址20',tel:'0771-kkkkk',accounts:'45443346767845244342',name:'李二三',salary:1276,sex: true},
    {id:21,date:'2015-10-11',department:'0AA',address:'地址21',tel:'0771-lllll',accounts:'45443346767845244342',name:'洪  三',salary:1276,sex:false}

        ]
            );
    });
    function toexcel() {
        grid.toExcel('../../jguiapp.ashx', function (e) { jgui.alert(e, 400) });
    }
    function search() {
        grid.search('', function (e) { jgui.alert("查找条件：" + e) });

    }
    function set1(e) {
        return (e.value ? "男" : "女");

    }
    function set2(e) {
        return (/0\w+/.test(e.value) ? "A公司" : "B公司");
    }
    function setRow(e) {
        if (e.salary < 1000) this.css('color', 'red');
    }
</script>
</body>

</html>
