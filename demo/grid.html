<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title></title>
    <script src="../js/democolor.js"></script>
    <link href="../css/demostyle.css" rel="stylesheet" />
  
</head>
<body>
    
   <div class="title">
       <span class="sub1">ggrid</span>
       <span class="sub2">(表格管理器)</span>
   </div>

<pre>
      
&lt;table id="mygrid" class="ggrid" data-options="{pager:true,fit:true,url:'../data/grid.txt',toolbar:'#mybar',border:[1,1,1,1]}"&gt;
    &lt;thead&gt;
    &lt;tr&gt;
        &lt;td rowspan="2" data-options="{field:'gs',width:500,align:'right'}" &gt;公司&lt;/td&gt;
        &lt;td colspan="2" &gt;2014榨季&lt;/td&gt;
        &lt;td colspan="2" &gt;2015榨季&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td  data-options="{field:'shu1',width:610}" &gt;数量&lt;/td&gt;
        &lt;td data-options="{field:'shu2',width:520,align:'right'}"&gt;金额&lt;/td&gt;
        &lt;td data-options="{field:'shu3',width:130}"&gt;数量&lt;/td&gt;
        &lt;td data-options="{field:'shu4',width:140}"&gt;金额&lt;/td&gt;
    &lt;/tr&gt;
    &lt;/thead&gt;
&lt;/table&gt;
   
    &lt;div id="mybar" class="gtoolbar" data-options="{border:[0,0,1,0]}" &gt;
        &lt;a href="#"  data-options="{icon:'add',click:myclick}"  class="gbutton"&gt;增加&lt;/a&gt;
		&lt;a href="#" class="gbutton" data-options="{icon:'edit',click:open}"&gt;修改&lt;/a&gt;
        &lt;a href="#" class="gbutton" data-options="{icon:'remove',click:open}"&gt;删除&lt;/a&gt;
        &lt;a href="#" class="gbutton" data-options="{click:open}"&gt;刷新&lt;/a&gt;
     &lt;/div>
   
</pre>
    <div class="head" >Properties(属性)：</div>
    <table>
        <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Description</th>
            <th>Default</th>
        </tr>
        <tr>
            <td>fit</td>
            <td>Boolean</td>
            <td>是否最大化</td>
            <td>true</td>
        </tr>
        <tr>
            <td>height</td>
            <td>Number</td>
            <td>高度,当设fit为true时忽略,当值小于0时，最大化</td>
            <td>200</td>
        </tr>
        <tr>
            <td>width</td>
            <td>Number</td>
            <td>宽度,当设fit为true时忽略,当值小于0时，最大化</td>
            <td>400</td>
        </tr>
        <tr>
            <td>url</td>
            <td>string</td>
            <td>数据源的url</td>
            <td></td>
        </tr>

        <tr>
            <td>para</td>
            <td>json的object</td>
            <td>获数据源的url参数,引号歧义时请用function返回</td>
            <td></td>
        </tr>

        <tr>
            <td>type</td>
            <td>string</td>
            <td>类型</td>
            <td></td>
        </tr>
        <tr>
            <td>toolBar</td>
            <td>string</td>
            <td>工具栏的DOM Id(toolbar:'#mybar')</td>
            <td></td>
        </tr>

        <tr>
            <td>dataList</td>
            <td>Array</td>
            <td>分页大小的选择数组(每行包含id 和text)</td>
            <td>[{ id: 20, text: '20' }, { id: 30, text: '30' }, { id: 40, text: '40' }, { id: 80, text: '80' }, { id: 120, text: '120' }]</td>
        </tr>

        <tr>
            <td>pager</td>
            <td>Boolean</td>
            <td>是否显示分页工具栏</td>
            <td>true</td>
        </tr>
        <tr>
            <td>pageSize</td>
            <td>Number</td>
            <td>每页行数</td>
            <td>20</td>
        </tr>
        <tr>
            <td>pageIndex</td>
            <td>Number</td>
            <td>当前显示的页码</td>
            <td>true</td>
        </tr>
        <tr>
            <td>sortField</td>
            <td>string</td>
            <td>排序的字段</td>
            <td>id</td>
        </tr>

        <tr>
            <td>dataKey</td>
            <td>string</td>
            <td>数据源主键</td>
            <td>id</td>
        </tr>

        <tr>
            <td>sordOrder</td>
            <td>string</td>
            <td>排序方式</td>
            <td>asc</td>
        </tr>
        <tr>
            <td>loadding</td>
            <td>Boolean</td>
            <td>加载数据时显示模态提示</td>
            <td>true</td>
        </tr>
       <tr>
            <td>sumAble</td>
            <td>boolean</td>
            <td>是否显示合计栏</td>
            <td>false</td>
        </tr>
        <tr>
            <td>cellSelect</td>
            <td>boolean</td>
            <td>是否允许单元格选择</td>
            <td>false</td>
        </tr>

    </table>
    <div class="head" > 列Properties(属性)：</div>  
    <table>
        <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Description</th>
            <th>Default</th>
        </tr>
        <tr>
            <td>field</td>
            <td>string</td>
            <td>字段</td>
            <td></td>
        </tr>

                <tr>
            <td>width</td>
            <td>Number</td>
            <td>宽度</td>
            <td>90</td>
        </tr>
                <tr>
            <td>sortable</td>
            <td>Boolean</td>
            <td>允许后台排序</td>
            <td>true</td>
        </tr>

                        <tr>
            <td>align</td>
            <td>string</td>
            <td>排序方式(center,left,right)</td>
            <td>left</td>
        </tr>


        <tr>
            <td>type</td>
            <td>string</td>
            <td>类型(indexCol)</td>
            <td></td>
        </tr>
        
        <tr>
            <td>format</td>
            <td>string</td>
            <td>数字类型(,30) 有,表示有千分位，数字表示小数后位数，有0表示显示0</td>
            <td></td>
        </tr>
        <tr>
            <td>edit</td>
            <td>boolean</td>
            <td>是否允许编辑</td>
            <td></td>
        </tr>
        <tr>
            <td>editValid</td>
            <td>function</td>
            <td>单元格编辑后数据验证</td>
            <td></td>
        </tr>

        <tr>
            <td>dataType</td>
            <td>string</td>
            <td>列的数据类型(I-->int;S->string,N->number,B->boolean,D->Date)</td>
            <td></td>
        </tr>


               <tr>
            <td>render</td>
            <td>function</td>
            <td>返回值做单元格内容
                <pre>
                   function setr(e) { //e.record:行信息，e.value当前单元格值
                    return "第" + e.value + "行";
                                }

                </pre>
            </td>
            <td></td>
        </tr>
                <tr>
            <td>jQrender</td>
            <td>function(e)</td>
            <td>为单元格增加组件
                <pre>
                 function setsm(e) { //e.record 行记录 e.jq :单元格对象
                    if (!e.record.lock) 
                    {
                        $('<a>获扫描数据</a>').gbutton({
                        click: function () {
                            alert(0);
                        }
                        }).appendTo(e.jq);
        }
    }
                </pre>
            </td>
            <td></td>
        </tr>

         <tr>
            <td>searchable</td>
            <td>Boolean</td>
            <td>是否允许按该列查找</td>
            <td>true</td>
        </tr>
         <tr>
            <td>typeValid</td>
            <td>验证类型</td>
            <td>int,number</td>
            <td></td>
        </tr>
        
        

    </table>
    <div class="head">Methods(方法)：</div>
    <table>
        <tr>
            <th>Name</th>
            <th>Parameter</th>
            <th>Description</th>
            <th>Return</th>
        </tr>
        <tr>
            <td>load</td>
            <td>url,cache</td>
            <td>为表格加载数据,cache:是否启用缓存</td>
            <td></td>
        </tr>
       
        <tr>
            <td>set</td>
            <td>name,value</td>
            <td>设表格参数</td>
            <td></td>
        </tr>

             <tr>
            <td>get</td>
            <td>name</td>
            <td>获表格参数内容</td>
            <td></td>
        </tr>
                <tr>
            <td>getSelect</td>
            <td></td>
            <td>获选择行</td>
            <td></td>
        </tr>
                <tr>
            <td>selectRow</td>
            <td>index</td>
            <td>设选择行</td>
            <td></td>
        </tr>
                <tr>
            <td>getData</td>
            <td></td>
            <td>获当前表格数据源</td>
            <td></td>
        </tr>
          <tr>
            <td>getEditData</td>
            <td></td>
            <td>获表格被修改的数据</td>
            <td></td>
        </tr>
          <tr>
            <td>valid</td>
            <td></td>
            <td>获表格编辑数据的验证结果</td>
            <td></td>
        </tr>

           <tr>
            <td>setData</td>
            <td>array</td>
            <td>设表格数据源</td>
            <td></td>
        </tr>
                        <tr>
            <td>getCell</td>
            <td>i,j</td>
            <td>无参数时获当前选中单元格,指定i,j获指定单元格内容</td>
            <td></td>
        </tr>

                <tr>
            <td>setCell</td>
            <td>i,j</td>
            <td>设当前选中单元格</td>
            <td></td>
        </tr>

                        <tr>
            <td>setSum</td>
            <td>object</td>
            <td>设合计栏内容</td>
            <td></td>
        </tr>
        <tr>
            <td>search(w)</td>
            <td>where</td>
            <td>表格内容过滤,参数为附加的条件</td>
            <td></td>
        </tr>
        <tr>
            <td>toExcel(action,f)</td>
            <td>action:后台处理接口,f:function,调试时显示上传内容</td>
            <td>把表格的内容转成excel表格</td>
            <td></td>
        </tr>

    </table>
    <div class="head">Events(事件):</div>
    <table>
        <tr>
            <th>Name</th>
            <th>Parameter</th>
            <th>Description</th>
            <th>Return</th>
        </tr>
        <tr>
            <td>onload</td>
            <td>function(grid)</td>
            <td>表格数据加载完成后执行</td>
            <td></td>
        </tr>
   <tr>
            <td>onRowDraw</td>
            <td>function(recorder)</td>
            <td>表格行渲染后触发,this 指向 Row</td>
            <td></td>
        </tr>
         <tr>
            <td>onCellDraw</td>
            <td>function(value,field,recorder)</td>
            <td>单元格渲染后触发this 指向cell</td>
            <td></td>
        </tr>
    </table>
        Examples(示例) <br /><br />
       <a  href="javascript:exec({ url: 'demo/grid/basicgrid.html', text: '基本表格' })"> 基本表格</a><br /><br />
       <a  href="javascript:exec({ url: 'demo/grid/sumgrid.html', text: '增删改表格' })"> 增删改表格</a><br /><br />
       <a  href="javascript:exec({ url: 'demo/grid/filtergrid.html', text: '分层过滤表格' })"> 分层过滤表格</a>
</body>
</html>